<!doctype html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8"/>
    <title>Order Details</title>
    <link href="/css/tailwind.css" rel="stylesheet"/>
</head>
<body class="p-6 bg-gray-50">
<div class="container mx-auto">
    <a href="/orders" class="text-sm text-gray-600">&larr; Back to orders</a>
    <h1 class="text-2xl font-semibold mt-2">Order <span th:text="${order.orderId}">#1</span></h1>
    <div class="mt-4 bg-white p-4 rounded shadow">
        <p><strong>User ID:</strong> <span th:text="${order.userId}"></span></p>
        <p><strong>Order Date:</strong> <span th:text="${order.orderDate}"></span></p>
        <p><strong>Status:</strong> <span th:text="${order.status}"></span></p>
        <h2 class="mt-4 font-medium">Items</h2>
        <table class="w-full mt-2">
            <thead><tr><th>Medicine</th><th>Qty</th><th>Price</th></tr></thead>
            <tbody>
            <tr th:each="it : ${order.items}">
                <td th:text="${it.medicineId}">MedID</td>
                <td th:text="${it.quantity}">1</td>
                <td th:text="${it.price}">10.00</td>
            </tr>
            </tbody>
        </table>

        <div class="mt-4">
            <form th:action="@{|/order/status/${order.orderId}|}" method="post" class="flex items-center space-x-2">
                <select name="status" class="p-2 border rounded">
                    <option th:selected="${order.status == 'PENDING'}">PENDING</option>
                    <option th:selected="${order.status == 'PROCESSING'}">PROCESSING</option>
                    <option th:selected="${order.status == 'SHIPPED'}">SHIPPED</option>
                    <option th:selected="${order.status == 'DELIVERED'}">DELIVERED</option>
                    <option th:selected="${order.status == 'CANCELLED'}">CANCELLED</option>
                </select>
                <button type="submit" class="px-3 py-2 bg-indigo-600 text-white rounded">Update Status</button>
            </form>
        </div>
    </div>
</div>
</body>
</html>
